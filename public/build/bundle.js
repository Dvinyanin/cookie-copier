var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function s(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function p(){return d(" ")}function m(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function h(t){return function(n){return n.preventDefault(),t.call(this,n)}}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function g(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function v(t,n){t.value=null==n?"":n}function _(t,n,e){t.classList[e?"add":"remove"](n)}let b;function k(t){b=t}function x(){const t=function(){if(!b)throw new Error("Function called outside component initialization");return b}();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const w=[],y=[],C=[],L=[],H=Promise.resolve();let S=!1;function z(t){C.push(t)}let M=!1;const U=new Set;function E(){if(!M){M=!0;do{for(let t=0;t<w.length;t+=1){const n=w[t];k(n),V(n.$$)}for(k(null),w.length=0;y.length;)y.pop()();for(let t=0;t<C.length;t+=1){const n=C[t];U.has(n)||(U.add(n),n())}C.length=0}while(w.length);for(;L.length;)L.pop()();S=!1,M=!1,U.clear()}}function V(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(z)}}const A=new Set;let T;function P(){T={r:0,c:[],p:T}}function B(){T.r||o(T.c),T=T.p}function I(t,n){t&&t.i&&(A.delete(t),t.i(n))}function F(t,n,e,o){if(t&&t.o){if(A.has(t))return;A.add(t),T.c.push(()=>{A.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function N(t){t&&t.c()}function q(t,e,l){const{fragment:c,on_mount:i,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,l),z(()=>{const e=i.map(n).filter(r);a?a.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(z)}function j(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function O(t,n){-1===t.$$.dirty[0]&&(w.push(t),S||(S=!0,H.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Z(n,r,l,c,i,u,s=[-1]){const f=b;k(n);const d=r.props||{},p=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:s,skip_bound:!1};let m=!1;if(p.ctx=l?l(n,d,(t,e,...o)=>{const r=o.length?o[0]:e;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&O(n,t)),e}):[],p.update(),m=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&I(n.$$.fragment),q(n,r.target,r.anchor),E()}k(f)}class D{$destroy(){j(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function G(n){let e,o;return{c(){e=f("svg"),o=f("path"),$(o,"d","M29.1764 8.32303L8.25165 29.2478L1.56243 29.991C0.665178 30.0915 -0.0914615 29.3348 0.00897732 28.4376L0.752224 21.7483L21.677 0.823598C22.7751 -0.274533 24.5562 -0.274533 25.6543 0.823598L29.1764 4.34565C30.2745 5.44378 30.2745 7.2249 29.1764 8.32303ZM22.909 11.5639L18.4428 7.09767L2.80118 22.7326L2.24541 27.7613L7.27405 27.2055L22.909 11.5639ZM27.6631 5.85893L24.1411 2.33688C23.8866 2.08243 23.4581 2.06904 23.1969 2.33688L19.9561 5.5777L24.4223 10.0439L27.6631 6.80305C27.9243 6.54861 27.9243 6.12007 27.6631 5.85893Z"),$(o,"fill","currentColor"),$(e,"width","30"),$(e,"height","30"),$(e,"viewBox","0 0 30 30")},m(t,n){i(t,e,n),c(e,o)},p:t,i:t,o:t,d(t){t&&a(e)}}}class J extends D{constructor(t){super(),Z(this,t,null,G,l,{})}}function K(n){let e,o;return{c(){e=f("svg"),o=f("path"),$(o,"d","M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"),$(o,"fill","currentColor"),$(e,"viewBox","0 0 512 512"),$(e,"width","512"),$(e,"height","512")},m(t,n){i(t,e,n),c(e,o)},p:t,i:t,o:t,d(t){t&&a(e)}}}class Q extends D{constructor(t){super(),Z(this,t,null,K,l,{})}}function R(t,n,e){const o=t.slice();return o[6]=n[e],o[22]=e,o}function W(t,n,e){const o=t.slice();return o[23]=n[e],o[22]=e,o}function X(t,n,e){const o=t.slice();return o[23]=n[e],o[22]=e,o}function Y(t){let n,e,o,r=t[23]+"";return{c(){n=s("option"),e=d(r),n.__value=o=t[23],n.value=n.__value},m(t,o){i(t,n,o),c(n,e)},p(t,l){1&l&&r!==(r=t[23]+"")&&g(e,r),1&l&&o!==(o=t[23])&&(n.__value=o,n.value=n.__value)},d(t){t&&a(n)}}}function tt(t){let n;return{c(){n=s("label"),n.textContent="To",$(n,"for","toInput"),$(n,"class","form__label")},m(t,e){i(t,n,e)},d(t){t&&a(n)}}}function nt(t){let n;return{c(){n=s("label"),n.textContent="To",$(n,"for","toSelect"),$(n,"class","form__label")},m(t,e){i(t,n,e)},d(t){t&&a(n)}}}function et(t){let n,e,r,l;return{c(){n=s("div"),e=s("input"),$(e,"type","text"),$(e,"id","toInput"),$(n,"class","form__input")},m(o,a){i(o,n,a),c(n,e),t[15](e),v(e,t[1]),r||(l=[m(e,"input",t[16]),m(e,"change",t[11])],r=!0)},p(t,n){2&n&&e.value!==t[1]&&v(e,t[1])},d(e){e&&a(n),t[15](null),r=!1,o(l)}}}function ot(t){let n,e,o,r,l,f=t[0],d=[];for(let n=0;n<f.length;n+=1)d[n]=rt(W(t,f,n));return{c(){n=s("div"),e=s("select"),o=s("option"),o.textContent="Select tab";for(let t=0;t<d.length;t+=1)d[t].c();o.disabled=!0,o.selected=!0,o.__value="Select tab",o.value=o.__value,$(e,"name","to"),$(e,"id","toSelect"),$(n,"class","form__select")},m(a,u){i(a,n,u),c(n,e),c(e,o);for(let t=0;t<d.length;t+=1)d[t].m(e,null);r||(l=m(e,"change",t[14]),r=!0)},p(t,n){if(1&n){let o;for(f=t[0],o=0;o<f.length;o+=1){const r=W(t,f,o);d[o]?d[o].p(r,n):(d[o]=rt(r),d[o].c(),d[o].m(e,null))}for(;o<d.length;o+=1)d[o].d(1);d.length=f.length}},d(t){t&&a(n),u(d,t),r=!1,l()}}}function rt(t){let n,e,o,r=t[23]+"";return{c(){n=s("option"),e=d(r),n.__value=o=t[23],n.value=n.__value},m(t,o){i(t,n,o),c(n,e)},p(t,l){1&l&&r!==(r=t[23]+"")&&g(e,r),1&l&&o!==(o=t[23])&&(n.__value=o,n.value=n.__value)},d(t){t&&a(n)}}}function lt(t){let n,e;return n=new Q({}),{c(){N(n.$$.fragment)},m(t,o){q(n,t,o),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){F(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function ct(t){let n,e;return n=new J({}),{c(){N(n.$$.fragment)},m(t,o){q(n,t,o),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){F(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function it(t){let n,e,o,r=t[6]+"";return{c(){n=s("option"),e=d(r),n.__value=o=t[6],n.value=n.__value},m(t,o){i(t,n,o),c(n,e)},p(t,l){16&l&&r!==(r=t[6]+"")&&g(e,r),16&l&&o!==(o=t[6])&&(n.__value=o,n.value=n.__value)},d(t){t&&a(n)}}}function at(t){let n,e,r,l,f,g,v,_,b,k,x,w,y,C,L,H,S,z,M,U,E,V,A,T,N,q,j,O,Z,D,G,J,K,Q,W=t[0],rt=[];for(let n=0;n<W.length;n+=1)rt[n]=Y(X(t,W,n));function at(t,n){return t[2]?nt:tt}let ut=at(t),st=ut(t);function ft(t,n){return t[2]?ot:et}let dt=ft(t),pt=dt(t);const mt=[ct,lt],ht=[];function $t(t,n){return t[2]?0:1}z=$t(t),M=ht[z]=mt[z](t);let gt=t[4],vt=[];for(let n=0;n<gt.length;n+=1)vt[n]=it(R(t,gt,n));return{c(){n=s("form"),e=s("table"),r=s("tr"),l=s("td"),l.innerHTML='<label for="from" class="form__label">From</label>',f=p(),g=s("td"),v=s("div"),_=s("select"),b=s("option"),b.textContent="Select tab";for(let t=0;t<rt.length;t+=1)rt[t].c();k=p(),x=s("tr"),w=s("td"),st.c(),y=p(),C=s("td"),pt.c(),L=p(),H=s("td"),S=s("button"),M.c(),U=p(),E=s("tr"),V=s("td"),V.innerHTML='<label for="cookie" class="form__label">Cookie</label>',A=p(),T=s("td"),N=s("div"),q=s("select");for(let t=0;t<vt.length;t+=1)vt[t].c();j=p(),O=s("tr"),Z=s("td"),D=s("button"),G=d("Save"),b.disabled=!0,b.selected=!0,b.__value="Select tab",b.value=b.__value,$(_,"name","from"),$(_,"id","from"),$(v,"class","form__select"),$(g,"colspan","2"),$(S,"type","button"),$(S,"class","button button--square button--bordered"),$(q,"name","cookie"),$(q,"id","cookie"),$(N,"class","form__select"),$(T,"colspan","2"),$(D,"type","submit"),$(D,"class","button button--green"),D.disabled=t[3],$(Z,"colspan","3"),$(e,"class","table"),$(n,"class","form")},m(o,a){i(o,n,a),c(n,e),c(e,r),c(r,l),c(r,f),c(r,g),c(g,v),c(v,_),c(_,b);for(let t=0;t<rt.length;t+=1)rt[t].m(_,null);c(e,k),c(e,x),c(x,w),st.m(w,null),c(x,y),c(x,C),pt.m(C,null),c(x,L),c(x,H),c(H,S),ht[z].m(S,null),c(e,U),c(e,E),c(E,V),c(E,A),c(E,T),c(T,N),c(N,q);for(let t=0;t<vt.length;t+=1)vt[t].m(q,null);c(e,j),c(e,O),c(O,Z),c(Z,D),c(D,G),J=!0,K||(Q=[m(_,"change",t[13]),m(S,"click",t[12]),m(q,"change",t[17]),m(n,"submit",h(t[7]))],K=!0)},p(t,[n]){if(1&n){let e;for(W=t[0],e=0;e<W.length;e+=1){const o=X(t,W,e);rt[e]?rt[e].p(o,n):(rt[e]=Y(o),rt[e].c(),rt[e].m(_,null))}for(;e<rt.length;e+=1)rt[e].d(1);rt.length=W.length}ut!==(ut=at(t))&&(st.d(1),st=ut(t),st&&(st.c(),st.m(w,null))),dt===(dt=ft(t))&&pt?pt.p(t,n):(pt.d(1),pt=dt(t),pt&&(pt.c(),pt.m(C,null)));let e=z;if(z=$t(t),z!==e&&(P(),F(ht[e],1,1,()=>{ht[e]=null}),B(),M=ht[z],M||(M=ht[z]=mt[z](t),M.c()),I(M,1),M.m(S,null)),16&n){let e;for(gt=t[4],e=0;e<gt.length;e+=1){const o=R(t,gt,e);vt[e]?vt[e].p(o,n):(vt[e]=it(o),vt[e].c(),vt[e].m(q,null))}for(;e<vt.length;e+=1)vt[e].d(1);vt.length=gt.length}(!J||8&n)&&(D.disabled=t[3])},i(t){J||(I(M),J=!0)},o(t){F(M),J=!1},d(t){t&&a(n),u(rt,t),st.d(),pt.d(),ht[z].d(),u(vt,t),K=!1,o(Q)}}}function ut(t,n,e){const o=x();let r,{tabsUrls:l}=n,c="",i="",a="",u=!0,s=!0,f=[];function d(t){c=t,chrome.cookies.getAll({url:t},(function(t){e(4,f=t.map(t=>t.name)),m(f[0]),h()}))}function p(t){e(1,i=t),h()}function m(t){e(6,a=t||!1),h()}function h(){e(3,s=!$())}function $(){return c&&i&&a}return t.$$set=t=>{"tabsUrls"in t&&e(0,l=t.tabsUrls)},[l,i,u,s,f,r,a,function(){return!!$()&&o("addPair",{from:c,to:i,cookie:a})},d,p,m,h,function(){e(2,u=!u),u?(e(1,i=""),h()):setTimeout(()=>{r.focus()},0)},({target:t})=>{d(t.value)},({target:t})=>{p(t.value)},function(t){y[t?"unshift":"push"](()=>{r=t,e(5,r)})},function(){i=this.value,e(1,i)},({target:t})=>{m(t.value)}]}class st extends D{constructor(t){super(),Z(this,t,ut,at,l,{tabsUrls:0})}}function ft(n){let e,o;return{c(){e=f("svg"),o=f("path"),$(o,"d","M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"),$(o,"fill","currentColor"),$(e,"viewBox","0 0 448 512")},m(t,n){i(t,e,n),c(e,o)},p:t,i:t,o:t,d(t){t&&a(e)}}}class dt extends D{constructor(t){super(),Z(this,t,null,ft,l,{})}}function pt(n){let e,o;return{c(){e=f("svg"),o=f("path"),$(o,"d","M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"),$(o,"fill","currentColor"),$(e,"viewBox","0 0 448 512")},m(t,n){i(t,e,n),c(e,o)},p:t,i:t,o:t,d(t){t&&a(e)}}}class mt extends D{constructor(t){super(),Z(this,t,null,pt,l,{})}}function ht(t,n,e){const o=t.slice();return o[8]=n[e],o[10]=e,o}function $t(t){let n,e,r,l,u,f,h,v,b,k,x,w,y,C,L,H,S,z,M,U,E,V,A,T,P,B,O,Z,D,G,K=t[8].from+"",Q=t[8].to+"",R=t[8].cookie+"";function W(...n){return t[4](t[8],...n)}function X(...n){return t[5](t[8],...n)}function Y(...n){return t[6](t[8],...n)}return r=new dt({}),A=new J({}),B=new mt({}),{c(){n=s("div"),e=s("button"),N(r.$$.fragment),l=p(),u=s("div"),f=s("div"),h=s("b"),h.textContent="From url:",v=p(),b=d(K),k=p(),x=s("div"),w=s("b"),w.textContent="To url:",y=p(),C=d(Q),L=p(),H=s("div"),S=s("b"),S.textContent="Cookie:",z=p(),M=d(R),U=p(),E=s("div"),V=s("button"),N(A.$$.fragment),T=p(),P=s("button"),N(B.$$.fragment),O=p(),$(e,"class","pair__copy"),$(f,"class","pair__point"),$(x,"class","pair__point"),$(H,"class","pair__point"),$(u,"class","pair__points"),$(V,"class","pair__control pair__control--edit"),$(P,"class","pair__control pair__control--remove"),$(E,"class","pair__controls"),$(n,"class","pair"),_(n,"pair--identical",t[8].isIdentical)},m(t,o){i(t,n,o),c(n,e),q(r,e,null),c(n,l),c(n,u),c(u,f),c(f,h),c(f,v),c(f,b),c(u,k),c(u,x),c(x,w),c(x,y),c(x,C),c(u,L),c(u,H),c(H,S),c(H,z),c(H,M),c(n,U),c(n,E),c(E,V),q(A,V,null),c(E,T),c(E,P),q(B,P,null),c(n,O),Z=!0,D||(G=[m(e,"click",W),m(V,"click",X),m(P,"click",Y)],D=!0)},p(e,o){t=e,(!Z||1&o)&&K!==(K=t[8].from+"")&&g(b,K),(!Z||1&o)&&Q!==(Q=t[8].to+"")&&g(C,Q),(!Z||1&o)&&R!==(R=t[8].cookie+"")&&g(M,R),1&o&&_(n,"pair--identical",t[8].isIdentical)},i(t){Z||(I(r.$$.fragment,t),I(A.$$.fragment,t),I(B.$$.fragment,t),Z=!0)},o(t){F(r.$$.fragment,t),F(A.$$.fragment,t),F(B.$$.fragment,t),Z=!1},d(t){t&&a(n),j(r),j(A),j(B),D=!1,o(G)}}}function gt(t){let n,e,o=t[0],r=[];for(let n=0;n<o.length;n+=1)r[n]=$t(ht(t,o,n));const l=t=>F(r[t],1,1,()=>{r[t]=null});return{c(){n=s("div");for(let t=0;t<r.length;t+=1)r[t].c();$(n,"class","pairs")},m(t,o){i(t,n,o);for(let t=0;t<r.length;t+=1)r[t].m(n,null);e=!0},p(t,[e]){if(15&e){let c;for(o=t[0],c=0;c<o.length;c+=1){const l=ht(t,o,c);r[c]?(r[c].p(l,e),I(r[c],1)):(r[c]=$t(l),r[c].c(),I(r[c],1),r[c].m(n,null))}for(P(),c=o.length;c<r.length;c+=1)l(c);B()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)I(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)F(r[t]);e=!1},d(t){t&&a(n),u(r,t)}}}function vt(t,n,e){const o=x();let{pairs:r}=n;function l(t){o("removePair",t)}function c(t){o("cloneCookieForPair",t)}function i(t){o("editPair",t)}return t.$$set=t=>{"pairs"in t&&e(0,r=t.pairs)},[r,l,c,i,t=>{c(t)},t=>{i(t)},t=>{l(t)}]}class _t extends D{constructor(t){super(),Z(this,t,vt,gt,l,{pairs:0})}}function bt(n){let e,o,r;return{c(){e=s("div"),o=s("div"),r=d(n[0]),$(o,"class","title"),$(e,"class","header")},m(t,n){i(t,e,n),c(e,o),c(o,r)},p(t,[n]){1&n&&g(r,t[0])},i:t,o:t,d(t){t&&a(e)}}}function kt(t,n,e){let{title:o}=n;return t.$$set=t=>{"title"in t&&e(0,o=t.title)},[o]}class xt extends D{constructor(t){super(),Z(this,t,kt,bt,l,{title:0})}}function wt(n){let e,o;return{c(){e=f("svg"),o=f("path"),$(o,"d","M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"),$(o,"fill","currentColor"),$(e,"viewBox","0 0 512 512")},m(t,n){i(t,e,n),c(e,o)},p:t,i:t,o:t,d(t){t&&a(e)}}}class yt extends D{constructor(t){super(),Z(this,t,null,wt,l,{})}}function Ct(n){let e,o;return{c(){e=f("svg"),o=f("path"),$(o,"d","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"),$(o,"fill","currentColor"),$(e,"viewBox","0 0 448 512")},m(t,n){i(t,e,n),c(e,o)},p:t,i:t,o:t,d(t){t&&a(e)}}}class Lt extends D{constructor(t){super(),Z(this,t,null,Ct,l,{})}}function Ht(n){let e,o;return{c(){e=f("svg"),o=f("path"),$(o,"d","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"),$(o,"fill","currentColor"),$(e,"viewBox","0 0 448 512")},m(t,n){i(t,e,n),c(e,o)},p:t,i:t,o:t,d(t){t&&a(e)}}}class St extends D{constructor(t){super(),Z(this,t,null,Ht,l,{})}}function zt(n){let e,r,l,u,f,g,_,b,k,x,w,y,C,L,H,S,z,M,U,E,V,A,T,P,B,I,F,N,q;return{c(){e=s("form"),r=s("table"),l=s("tr"),u=s("td"),u.innerHTML='<label for="from" class="form__label">From</label>',f=p(),g=s("td"),_=s("div"),b=s("input"),k=p(),x=s("tr"),w=s("td"),w.innerHTML='<label for="to" class="form__label">To</label>',y=p(),C=s("td"),L=s("div"),H=s("input"),S=p(),z=s("tr"),M=s("td"),M.innerHTML='<label for="cookie" class="form__label">Cookie</label>',U=p(),E=s("td"),V=s("div"),A=s("input"),T=p(),P=s("tr"),B=s("td"),I=s("button"),F=d("Save"),$(b,"type","text"),$(b,"id","from"),$(_,"class","form__input"),$(H,"type","text"),$(H,"id","to"),$(L,"class","form__input"),$(A,"type","text"),$(A,"id","cookie"),$(V,"class","form__input"),$(I,"type","submit"),$(I,"class","button button--green"),I.disabled=n[3],$(B,"colspan","2"),$(r,"class","table"),$(e,"class","form")},m(t,o){i(t,e,o),c(e,r),c(r,l),c(l,u),c(l,f),c(l,g),c(g,_),c(_,b),v(b,n[0]),c(r,k),c(r,x),c(x,w),c(x,y),c(x,C),c(C,L),c(L,H),v(H,n[1]),c(r,S),c(r,z),c(z,M),c(z,U),c(z,E),c(E,V),c(V,A),v(A,n[2]),c(r,T),c(r,P),c(P,B),c(B,I),c(I,F),N||(q=[m(b,"input",n[6]),m(b,"change",n[5]),m(H,"input",n[7]),m(H,"change",n[5]),m(A,"input",n[8]),m(A,"change",n[5]),m(e,"submit",h(n[4]))],N=!0)},p(t,[n]){1&n&&b.value!==t[0]&&v(b,t[0]),2&n&&H.value!==t[1]&&v(H,t[1]),4&n&&A.value!==t[2]&&v(A,t[2]),8&n&&(I.disabled=t[3])},i:t,o:t,d(t){t&&a(e),N=!1,o(q)}}}function Mt(t,n,e){const o=x();let{fromUrl:r}=n,{toUrl:l}=n,{cookie:c}=n,i=!1;return t.$$set=t=>{"fromUrl"in t&&e(0,r=t.fromUrl),"toUrl"in t&&e(1,l=t.toUrl),"cookie"in t&&e(2,c=t.cookie)},[r,l,c,i,function(){o("swapPair",{from:r,to:l,cookie:c})},function(){e(3,i=!(r&&l&&c))},function(){r=this.value,e(0,r)},function(){l=this.value,e(1,l)},function(){c=this.value,e(2,c)}]}class Ut extends D{constructor(t){super(),Z(this,t,Mt,zt,l,{fromUrl:0,toUrl:1,cookie:2})}}function Et(t){let n,e,o,r,l,u,f,h;o=new St({});let g=t[1]&&Tt(t);return{c(){n=s("div"),e=s("button"),N(o.$$.fragment),r=p(),g&&g.c(),l=d(""),$(e,"class","button button--bordered"),$(n,"class","app__button app__button--left")},m(a,s){i(a,n,s),c(n,e),q(o,e,null),i(a,r,s),g&&g.m(a,s),i(a,l,s),u=!0,f||(h=m(e,"click",t[4]),f=!0)},p(t,n){t[1]?g?(g.p(t,n),2&n&&I(g,1)):(g=Tt(t),g.c(),I(g,1),g.m(l.parentNode,l)):g&&(P(),F(g,1,1,()=>{g=null}),B())},i(t){u||(I(o.$$.fragment,t),I(g),u=!0)},o(t){F(o.$$.fragment,t),F(g),u=!1},d(t){t&&a(n),j(o),t&&a(r),g&&g.d(t),t&&a(l),f=!1,h()}}}function Vt(t){let n,e,o,r,l,u,f,d;return o=new St({}),l=new st({props:{tabsUrls:t[2]}}),l.$on("addPair",t[8]),{c(){n=s("div"),e=s("button"),N(o.$$.fragment),r=p(),N(l.$$.fragment),$(e,"class","button button--bordered"),$(n,"class","app__button app__button--left")},m(a,s){i(a,n,s),c(n,e),q(o,e,null),i(a,r,s),q(l,a,s),u=!0,f||(d=m(e,"click",t[4]),f=!0)},p(t,n){const e={};4&n&&(e.tabsUrls=t[2]),l.$set(e)},i(t){u||(I(o.$$.fragment,t),I(l.$$.fragment,t),u=!0)},o(t){F(o.$$.fragment,t),F(l.$$.fragment,t),u=!1},d(t){t&&a(n),j(o),t&&a(r),j(l,t),f=!1,d()}}}function At(t){let n,e,o,r,l;const c=[Bt,Pt],u=[];function s(t,n){return t[0].pairs.length?1:0}return n=s(t),e=u[n]=c[n](t),r=new _t({props:{pairs:t[0].pairs}}),r.$on("cloneCookieForPair",t[11]),r.$on("removePair",t[9]),r.$on("editPair",t[6]),{c(){e.c(),o=p(),N(r.$$.fragment)},m(t,e){u[n].m(t,e),i(t,o,e),q(r,t,e),l=!0},p(t,l){let i=n;n=s(t),n===i?u[n].p(t,l):(P(),F(u[i],1,1,()=>{u[i]=null}),B(),e=u[n],e||(e=u[n]=c[n](t),e.c()),I(e,1),e.m(o.parentNode,o));const a={};1&l&&(a.pairs=t[0].pairs),r.$set(a)},i(t){l||(I(e),I(r.$$.fragment,t),l=!0)},o(t){F(e),F(r.$$.fragment,t),l=!1},d(t){u[n].d(t),t&&a(o),j(r,t)}}}function Tt(t){let n,e;return n=new Ut({props:{fromUrl:t[1].from,toUrl:t[1].to,cookie:t[1].cookie}}),n.$on("swapPair",t[10]),{c(){N(n.$$.fragment)},m(t,o){q(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.fromUrl=t[1].from),2&e&&(o.toUrl=t[1].to),2&e&&(o.cookie=t[1].cookie),n.$set(o)},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){F(n.$$.fragment,t),e=!1},d(t){j(n,t)}}}function Pt(n){let e,r,l,u,f,d,h,g,v,_;return l=new Lt({}),h=new yt({}),{c(){e=s("div"),r=s("button"),N(l.$$.fragment),u=p(),f=s("div"),d=s("button"),N(h.$$.fragment),$(r,"class","button button--green"),$(e,"class","app__button app__button--left"),$(d,"class","button"),$(f,"class","app__button app__button--right")},m(t,o){i(t,e,o),c(e,r),q(l,r,null),i(t,u,o),i(t,f,o),c(f,d),q(h,d,null),g=!0,v||(_=[m(r,"click",n[5]),m(d,"click",n[7])],v=!0)},p:t,i(t){g||(I(l.$$.fragment,t),I(h.$$.fragment,t),g=!0)},o(t){F(l.$$.fragment,t),F(h.$$.fragment,t),g=!1},d(t){t&&a(e),j(l),t&&a(u),t&&a(f),j(h),v=!1,o(_)}}}function Bt(n){let e,o,r,l,u,f,p;return l=new Lt({}),{c(){e=s("div"),o=d("Append your first pair   \n                    "),r=s("button"),N(l.$$.fragment),$(r,"class","button button--square button--green"),$(e,"class","first")},m(t,a){i(t,e,a),c(e,o),c(e,r),q(l,r,null),u=!0,f||(p=m(r,"click",n[5]),f=!0)},p:t,i(t){u||(I(l.$$.fragment,t),u=!0)},o(t){F(l.$$.fragment,t),u=!1},d(t){t&&a(e),j(l),f=!1,p()}}}function It(t){let n,e,o,r,l,u,f;e=new xt({props:{title:t[0].screens[t[0].currentScreen].title}});const d=[At,Vt,Et],m=[];function h(t,n){return t[0].currentScreen===t[3].pairs?0:t[0].currentScreen===t[3].append?1:t[0].currentScreen===t[3].edit?2:-1}return~(l=h(t))&&(u=m[l]=d[l](t)),{c(){n=s("div"),N(e.$$.fragment),o=p(),r=s("div"),u&&u.c(),$(r,"class","app__body"),$(n,"class","app")},m(t,a){i(t,n,a),q(e,n,null),c(n,o),c(n,r),~l&&m[l].m(r,null),f=!0},p(t,[n]){const o={};1&n&&(o.title=t[0].screens[t[0].currentScreen].title),e.$set(o);let c=l;l=h(t),l===c?~l&&m[l].p(t,n):(u&&(P(),F(m[c],1,1,()=>{m[c]=null}),B()),~l?(u=m[l],u||(u=m[l]=d[l](t),u.c()),I(u,1),u.m(r,null)):u=null)},i(t){f||(I(e.$$.fragment,t),I(u),f=!0)},o(t){F(e.$$.fragment,t),F(u),f=!1},d(t){t&&a(n),j(e),~l&&m[l].d()}}}function Ft(t,n,e){const o={pairs:"pairs",append:"append",edit:"edit"};let r,l={currentScreen:o.pairs,screens:{pairs:{title:"Cookie copier"},append:{title:"Add a new pair"},edit:{title:"Edit pair"}},pairs:[]},c=[];function i(){e(0,l.currentScreen=o.pairs,l)}function a(){l.pairs.map(t=>{chrome.cookies.get({url:t.from,name:t.cookie},(function(n){if(n){let o=n.value;chrome.cookies.get({url:t.to,name:t.cookie},(function(n){let r=!!n&&n.value;t.isIdentical=o===r,e(0,l.pairs=[...l.pairs],l)}))}}))})}function u(){chrome.storage.sync.set({pairs:l.pairs.map(t=>(delete t.isIdentical,t))})}function s({detail:t}){chrome.cookies.get({url:t.from,name:t.cookie},(function(n){if(n){let e=n.value;chrome.cookies.set({url:t.to,name:t.cookie,value:e},(function(){t.isIdentical=!0,a()}))}}))}return chrome.storage.sync.get(["pairs"],(function({pairs:t}){e(0,l.pairs=t||[],l),a()})),chrome.cookies.onChanged.addListener(({cookie:t})=>l.pairs.filter(({from:n})=>n.includes(t.domain)).forEach(t=>s({detail:t}))),[l,r,c,o,i,function(){chrome.tabs.query({},(function(t){e(2,c=t.map(t=>t.url).filter(t=>!!t)),e(0,l.currentScreen=o.append,l)}))},function({detail:t}){e(1,r=t),e(0,l.currentScreen=o.edit,l)},a,function({detail:t}){e(0,l.pairs=[...l.pairs,t],l),u(),i(),a(),s({detail:t})},function({detail:t}){e(0,l.pairs=l.pairs.filter(n=>n!==t),l),u(),a()},function({detail:t}){e(0,l.pairs=l.pairs.map(n=>n===r?t:r),l),e(1,r={}),u(),a(),i()},s]}return new class extends D{constructor(t){super(),Z(this,t,Ft,It,l,{})}}({target:document.body})}();
